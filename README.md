# To-do list
## Список дел

To-do list это веб-приложение для ведения, мониторинга списка задач.

## Функции

- Ввод задач для выполнения
- Возможность указания наименования, комментария, крайнего срока выполнения задачи
- Возможность установки интервалов повторения задач

## Технологии

- [log/slog] - slog логгер
- [chi] - роутер http-сервера
- [SQLite] - база данных
- [testify] - модульное тестирование

## Реализация задач повышенной сложности

В качестве задачи повышенной сложности реализован следующий функционал:
- определения пути к файлу БД через значение переменной окружения "TODO_DBFILE"
- создание Docker образа для использования на Linux

## Инструкция по запуску приложения и настройка

Для локального запуска приложения на хосте с ОС Windows следует выполнить следующую команду из корневой директории приложения :
```sh
go build -o cmd/todo_app.exe cmd/main.go
```
Далее необходимо запустить собранный исполняемый файл cmd/todo_app.exe.

Для запуска приложения в Docker контейнере на базе Ubuntu следует выполнить команду из корневой директории приложения ".../todo-list/":
```ps1
docker build -f ./docker/Dockerfile -t todo_app:v1 .
docker run -it --rm -p 7540:7540 -v $PWD/database:/todo-list/database todo_app:v1
```
По умолчанию приложение будет использовать директорию `root/database` для работы с файлами базы данных, где root - корневая директория приложения. Для переопределения расположения файлов базы данных следует указать новый путь к файлам БД в переменной окружения `TODO_DBFILE`. Определить значение переменной окружения можно путем передачи параметра в команду запуска контейнера `-e TODO_DBFILE=./NewPath`.
По умолчанию http-сервер слушает порт 7540. Для переопределения порта следует указать новый порт в переменной окружения `TODO_PORT`. Определить значение переменной окружения можно путем передачи параметра в команду запуска контейнера `-e TODO_PORT=8080`. При переопределении `TODO_PORT` необходимо также указать новый порт приложения в параметре запуска `--ports`.

После запуска приложения вы можете получить доступ к клиентской части приложения по адресу "http://localhost:7540".

## Инструкция по запуску тестов
Необходимо установить следующие настрйоки тестирования в файле tests/settings.go:
```go
var Port = 7540
var DBFile = "../database/scheduler.db"
var FullNextDate = false
var Search = false
var Token = ``
```

   [log/slog]: <https://pkg.go.dev/log/slog@go1.23.1>
   [chi]: <https://github.com/go-chi/chi>
   [sqlite]: <https://www.sqlite.org>
   [testify]: <https://github.com/stretchr/testify>
   
